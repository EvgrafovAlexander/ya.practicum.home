@startuml
title DeviceManagement Backend Application Component Diagram

top to bottom direction

!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Component.puml

Container_Boundary(DeviceManagementService, "DeviceManagement Service") {
  Container(BackendApp, "Сервис управления устройствами", "Python", "Взаимодействует с устройствами пользователя")
  Container(Database, "Database", "PostgreSQL", "Stores user data and schedules")
}

Container(BackendApp, "Backend Application", "Python") {
  Component(AuthController, "AuthController", "Управляет аутентификацией и авторизацией")
  Component(DevicesRouter, "DevicesRouter", "Принимает запросы от пользователей")
  Component(DevicesController, "Devices Controller", "Обрабатывает бизнес-логику запросов")
  Component(RepositoryLayer, "Repository Layer", "Логика взаимодействия с базой данных")
}

Rel(AuthController,DevicesController,"Результат проверки авторизации")
Rel(DevicesRouter,DevicesController,"Вызов соответствующего обработчика запроса")
Rel(DevicesController,RepositoryLayer,"Запросы к БД")
Rel(RepositoryLayer,Database,"Чтение/запись данных БД")
@enduml